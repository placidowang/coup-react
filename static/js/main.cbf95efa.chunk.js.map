{"version":3,"sources":["images/ambassador.png","images/assassin.png","images/captain.png","images/cardback.png","images/contessa.png","images/duke.png","PubNub-keys.js","components/Card.js","containers/Player.js","components/Opponent.js","containers/OpponentsContainer.js","components/Game.js","components/Lobby.js","containers/GameContainer.js","App.js","serviceWorker.js","reducers/playerReducer.js","reducers/gameReducer.js","reducers/rootReducer.js","index.js"],"names":["module","exports","cardImgData","ambassador","assassin","captain","cardback","contessa","duke","Card","this","props","card","isRevealed","className","name","toLowerCase","toUpperCase","src","alt","description","React","Component","connect","Player","isYourTurn","activePlayer","id","player","handleClickAction","action","console","log","treasury","updateCoins","updateTreasury","endTurn","Swal","fire","error","alertPlayers","undefined","coins","targetPlayer","updatePlayer","pubnub","publish","message","type","channel","gameChannel","amt","a","associatedCard","counterCards","title","showConfirmButton","showCancelButton","allowOutsideClick","timer","timerProgressBar","onBeforeOpen","actionsDiv","getActions","players","filter","gameOver","forEach","opponent","btn","document","createElement","innerText","username","addEventListener","close","targetPlayerId","append","counterCard","actions","push","hand","map","key","onClick","e","target","value","disabled","character","effect","counteraction","state","connectionReducer","isHost","gameReducer","deck","playerReducer","dispatch","changeTreasury","Opponent","getId","OpponentsContainer","opponents","Game","initializeGame","deckData","shuffledDeck","shuffleDeck","distributeCards","getNewCard","i","length","j","Math","floor","random","newCard","shift","updateDeck","updatedDeck","card1","card2","playerId","cards","aOrAn","word","test","charAt","useAction","NaN","remainder","find","numberOfCardsToKeep","nextCard","nextCard2","loseCard","focusConfirm","cancelButtonColor","confirmButtonText","cancelButtonText","allowEscapeKey","html","setInterval","content","getContent","b","querySelector","getTimerLeft","textContent","ceil","then","r","dismiss","round","revealCard","challengedCard","fn","oldCard","newHand","findIndex","updateHand","testMsg","msg","text","hereNow","channels","logPlayers","getMessage","setActivePlayer","currentActivePlayerId","whosTurnIsIt","counterCardBtn","innerHTML","prepend","counteredPlayerId","counteredPlayerUn","counteringPlayerId","counteringPlayerUn","challengedPlayerId","challengedPlayerUn","challengingPlayerId","challengingPlayerUn","icon","initDeck","Lobby","createLobby","roomId","toString","slice","totalOccupancy","setHost","subscribeToLobby","joinLobby","preventDefault","lobbyChannel","setRoomId","subscribe","withPresence","addToPlayers","updatePlayers","startGame","playGame","joinGame","style","color","fontSize","onSubmit","placeholder","GameContainer","isPlaying","App","setUsername","PubNubReact","publishKey","keys","subscribeKey","setId","setUUID","init","initPubnub","unsubscribe","Boolean","window","location","hostname","match","initialState","income","foreignAid","coup","tax","assassinate","exchange","steal","rootReducer","combineReducers","revealedCard","JSON","parse","stringify","indexOf","updatedPlayers","newPlayers","store","createStore","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.cbf95efa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ambassador.a580bcd9.png\";","module.exports = __webpack_public_path__ + \"static/media/assassin.3eba77a1.png\";","module.exports = __webpack_public_path__ + \"static/media/captain.d15ed8e0.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/contessa.00c21b91.png\";","module.exports = __webpack_public_path__ + \"static/media/duke.36f797ff.png\";","// Demo keys, with presence\nexport default {\n  publishKey: 'pub-c-f8b92af1-f2ce-4048-ae86-6de257c060c4',\n  subscribeKey: 'sub-c-6e0270de-84ac-11ea-b883-d2d532c9a1bf'\n}\n\n// // Quickstart keys, without presence\n// export default {\n//   publishKey: 'pub-c-aca301f2-ad72-4150-bdd1-e0b0e78e3908',\n//   subscribeKey: 'sub-c-c11ca76c-84ac-11ea-965b-8ea1ff3ad6ee'\n// }","import React from 'react'\nimport { connect } from 'react-redux'\nimport './Card.css'\nimport ambassador from '../images/ambassador.png'\nimport assassin from '../images/assassin.png'\nimport captain from '../images/captain.png'\nimport cardback from '../images/cardback.png'\nimport contessa from '../images/contessa.png'\nimport duke from '../images/duke.png'\n\nconst cardImgData = {\n  ambassador: ambassador,\n  assassin: assassin,\n  captain: captain,\n  cardback: cardback,\n  contessa: contessa,\n  duke: duke,\n}\n\nclass Card extends React.Component {\n  render() {\n    // console.log(this.props.card)\n    if (this.props.card) {\n      if (this.props.card.isRevealed) {\n        return (\n            <div className='overlay'>\n              <p className='x'>X</p>\n              <div className={`card ${this.props.card.name.toLowerCase()} revealed`}>\n                  <p className='card-name'>{this.props.card.name.toUpperCase()}</p>\n                  {/* <img className='portrait' src={`./images/${this.props.card.name.toLowerCase()}.png`} alt={this.props.card.name} /> */}\n                  <img className='portrait' src={cardImgData[this.props.card.name.toLowerCase()]} alt={this.props.card.name} />\n\n                  <div className='card-info'>\n                    {/* <h3>{this.props.card.action}</h3> */}\n                    {/* <h3>{this.props.card.effect}</h3> */}\n                    <p>{this.props.card.description}</p>\n                  </div>\n              </div>\n            </div>\n        )\n      } else {\n        return (\n          <div className={`card ${this.props.card.name.toLowerCase()}`}>\n            <p className='card-name'>{this.props.card.name.toUpperCase()}</p>\n            <img className='portrait' src={cardImgData[this.props.card.name.toLowerCase()]} alt={this.props.card.name} />\n            <div className='card-info'>\n              {/* <h3>{this.props.card.action}</h3> */}\n              {/* <h3>{this.props.card.effect}</h3> */}\n              <p>{this.props.card.description}</p>\n            </div>\n          </div>\n        )\n      }\n\n    } else {\n      return (\n        <div className={'card'}>\n          <img className={'cardback'} src={cardImgData['cardback']} alt={'cardback'}/>\n        </div>\n      )\n    }\n    \n  }\n}\n\nexport default connect()(Card)","import React from 'react'\nimport { connect } from 'react-redux'\nimport './Player.css'\nimport Card from '../components/Card.js'\nimport Swal from 'sweetalert2'\n\nclass Player extends React.Component {\n  componentDidMount() {\n\n  }\n  \n  componentDidUpdate() {\n    // console.log(this.props.player)\n  }\n\n  isYourTurn = () => {\n    return (this.props.activePlayer.id === this.props.player.id)\n  }\n\n  // don't need to account for turn anymore; actions are disabled if it's not your turn\n  handleClickAction = (action) => {\n    console.log('Attempting to use ' + action)\n    switch (action) {\n      case 'Income':\n        if (this.props.treasury >= 1) {\n          this.updateCoins(1)\n          // await this.props.changeTreasury(-amt)\n          this.updateTreasury(-1)\n          this.endTurn()\n        } else {\n          Swal.fire('Not enough coins in Treasury!')\n          console.error('Not enough coins in Treasury')\n        }\n        break\n      case 'Foreign Aid':\n        if (this.props.treasury >= 2) {\n          this.alertPlayers(action, undefined, 'Duke')\n\n        } else {\n          Swal.fire('Not enough coins in Treasury!')\n          console.error('Not enough coins in Treasury')\n        }\n        break\n      case 'Tax':\n        if (this.props.treasury >= 3) {\n          this.alertPlayers(action, 'Duke', undefined)\n\n        } else {\n          Swal.fire('Not enough coins in Treasury!')\n          console.error('Not enough coins in Treasury')\n        }\n        break\n      case 'Coup':\n        if (this.props.player.coins >= 7) {\n          this.targetPlayer(action)\n        } else {\n          Swal.fire(`You need 7 coins to Coup.`)\n        }\n        break\n      case 'Assassinate':\n        if (this.props.player.coins >= 3) {\n          this.targetPlayer(action, 'Assassin', 'Contessa')\n        } else {\n          Swal.fire(`You need 3 coins to Assassinate.`)\n        }\n        break\n      case 'Exchange':\n        this.alertPlayers(action, 'Ambassador', undefined)\n        break\n      case 'Steal':\n        this.targetPlayer(action, 'Captain', 'Ambassador', 'Captain')\n        break\n      default:\n        console.error('Invalid player action')\n    }\n  }\n\n  updatePlayer = () => {\n    // console.log(this.props.player.coins + 'coins')\n    this.props.pubnub.publish({\n      message: {\n        type: 'updatePlayer',\n        player: this.props.player\n      },\n      channel: this.props.gameChannel\n    })\n  }\n\n  updateTreasury = (amt) => {\n    // console.log(this.props.treasury)\n    this.props.pubnub.publish({\n      message: {\n        type: 'updateTreasury',\n        treasury: this.props.treasury + amt\n      },\n      channel: this.props.gameChannel\n    })\n  }\n\n  updateCoins = async(amt) => {\n    await this.props.updateCoins(amt)\n    this.updatePlayer()\n  }\n\n  targetPlayer = (action, associatedCard = undefined, ...counterCards) => {\n    console.log(`Using ${action}. Choose a player to target.`)\n    // swal with buttons for now, can later convert to onClick opponent div w/ hover effect\n    Swal.fire({\n      title: `Choose an opponent to use ${action} on.`,\n      showConfirmButton: false,\n      showCancelButton: true,\n      allowOutsideClick: false,\n      timer: 10000,\n      timerProgressBar: true,\n      onBeforeOpen: () => {\n        // console.log(this.props.players)\n        // const actionsDiv = document.querySelector('.swal2-actions')\n        const actionsDiv = Swal.getActions()\n\n        const opponents = this.props.players.filter(player => player.id !== this.props.player.id && !player.gameOver)\n\n        opponents.forEach(opponent => {\n          const btn = document.createElement('button')\n          btn.innerText = opponent.username\n          btn.className = \"swal2-confirm swal2-styled\"\n          // let id = opponent.id\n          btn.addEventListener('click', () => {\n            console.log(opponent.id)\n            Swal.close()\n\n            this.props.pubnub.publish({\n              message: {\n                type: 'target',\n                action: action,\n                associatedCard: associatedCard,\n                counterCards: counterCards,\n                targetPlayerId: opponent.id,\n              },\n              channel: this.props.gameChannel\n            })\n          })\n          actionsDiv.append(btn)\n        })\n      }\n    })\n\n\n\n  }\n\n  // alertPlayers = (action, counterAction, associatedCard, counterCard) => {\n  alertPlayers = (action, associatedCard, counterCard) => {\n    this.props.pubnub.publish({\n      message: {\n        type: 'alert',\n        // fromPlayer: this.props.player,\n        action: action,\n        // counterAction: counterAction,\n        // message: msg,\n        associatedCard: associatedCard,\n        counterCard: counterCard,\n      },\n      channel: this.props.gameChannel\n    })\n  }\n\n  endTurn = () => {\n    this.props.pubnub.publish({\n      message: { type: 'endTurn' },\n      channel: this.props.gameChannel\n    })\n  }\n\n  render() {\n    const player = this.props.player\n    const actions = []\n    for (const action in this.props.player.actions) {\n      actions.push(this.props.player.actions[action])\n    }\n    // console.log(actions)\n    return (\n      <div className='player-container'>\n        <div className='player-name-hand-coin-container'>\n          <div className='player-name-coins-container'>\n            <p className='player-name'>{player.username}</p>\n            <p className='coins'>Coins: {player.coins}</p>\n          </div>\n          <div className='player-hand-container'>\n            <p>Hand</p>\n            <div className='player-hand'>\n              {player.hand.map(card => <Card key={card.id} card={card} />)}\n            </div>\n          </div>\n        </div>\n        {/* <div className='actions'>Actions: \n          {actions.map(action => \n            <div className='action' key={action.action}>\n              <button onClick={e => this.handleClickAction(e.target.value)} id={action.action} value={action.action} disabled={this.isYourTurn() ? '' : 'disabled'}>{action.action}</button>\n              <p>{action.effect}</p>\n              <p>{action.counteraction}</p>\n              <p>{action.character}</p>\n            </div>\n          )}\n        </div> */}\n        <table id='actions'>\n          <tbody>\n            <tr>\n              <th>Action</th>\n              <th>Character</th>\n              <th className='effect'>Effect</th>\n              <th>Counteraction</th>\n            </tr>\n            {actions.map(action => \n              <tr className='action' key={action.action}>\n                <td>\n                  <button onClick={e => this.handleClickAction(e.target.value)} id={action.action} value={action.action} disabled={this.isYourTurn() ? '' : 'disabled'}>{action.action}</button>\n                </td>\n                <td className={action.character}>{action.character ? action.character : 'X'}</td>\n                <td>{action.effect ? action.effect : 'X'}</td>\n                <td>{action.counteraction ? action.counteraction : 'X'}</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    pubnub: state.connectionReducer.pubnub,\n    gameChannel: state.connectionReducer.gameChannel,\n    isHost: state.connectionReducer.isHost,\n    players: state.gameReducer.players,\n    deck: state.gameReducer.deck,\n    treasury: state.gameReducer.treasury,\n    player: state.playerReducer,\n    activePlayer: state.gameReducer.activePlayer,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    endTurn: (() => dispatch({type: 'endTurn'})),\n    updateCoins: ((amt) => dispatch({type: 'updateCoins', amt: amt})),\n    changeTreasury: ((amt) => dispatch({type: 'changeTreasury', amt: amt})),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Player)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Card from './Card.js'\n\nclass Opponent extends React.Component {\n  getId = (id) => {\n    console.log(id)\n    return id\n  }\n\n  render() {\n    return(\n      // <button onClick={(e) => this.logId(e.target.value)} value={this.props.opponent.id} className='opponent'>\n      <div onClick={() => this.getId(this.props.opponent.id)}className='opponent'>\n        <p className='opponent-name'>{this.props.opponent.username}</p>\n        <p>Coins: {this.props.opponent.coins}</p>\n\n        <div className='opponent-hand-container'>\n          <p>Hand\n            {/* : {this.props.opponent.hand.length} */}\n          </p>\n          {this.props.opponent.hand.length > 0\n            ? <div className='opponent-hand'>\n                <Card card={this.props.opponent.hand[0].isRevealed ? this.props.opponent.hand[0] : null}/>\n                <Card card={this.props.opponent.hand[1].isRevealed ? this.props.opponent.hand[1] : null}/>\n\n                {/* <Card card={this.props.opponent.hand[1]}/> */}\n              </div>\n            : <div className='opponent-hand'>\n                <Card />\n                <Card />\n              </div>\n          }\n        </div>\n      </div>\n      // </button>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    player: state.playerReducer,\n    players: state.gameReducer.players,\n  }\n}\n\nexport default connect(mapStateToProps)(Opponent)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Opponent from '../components/Opponent.js'\nimport './Opponents.css'\n\nclass OpponentsContainer extends React.Component {\n\n\n  render() {\n    const opponents = this.props.players.filter(player => player.id !== this.props.player.id)\n    return(\n      <div className='opponents-container'>\n        <p className='opponents-title'>Opponents</p>\n        <div className='opponents'>\n          {opponents.map(opponent =>\n              <Opponent key={opponent.id} opponent={opponent} />\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    player: state.playerReducer,\n    players: state.gameReducer.players,\n  }\n}\n\nexport default connect(mapStateToProps)(OpponentsContainer)","import React from 'react';\nimport Swal from 'sweetalert2'\nimport { connect } from 'react-redux'\nimport Player from '../containers/Player.js'\nimport OpponentsContainer from '../containers/OpponentsContainer.js'\nimport Card from './Card.js'\nimport './Game.css'\n\nconst globalSwalTimer = 10000\n\nclass Game extends React.Component {\n  componentDidMount(){\n    console.log('game component mounting')\n\n    if (this.props.isHost) {\n      // fetch('http://localhost:3000/deck')\n      // .then(r => r.json())\n      // .then(deckData => {\n      //   this.initializeGame(deckData)\n      // })\n      this.initializeGame()\n    }\n\n    let targetPlayer\n    // if (this.props.gameChannel) {\n      this.props.pubnub.getMessage(this.props.gameChannel, async(msg) => {\n        switch (msg.message.type) {\n          case 'updateDeck':\n            this.props.updateDeck(msg.message.updatedDeck)\n            break\n          case 'updatePlayer':\n            this.props.updatePlayer(msg.message.player)\n            break\n          case 'changeTreasury':\n            this.props.changeTreasury(msg.message.amt)\n            break\n          case 'updateTreasury':\n            this.props.updateTreasury(msg.message.treasury)\n            break\n          case 'updateHand':\n            this.props.setActivePlayer()\n            if (msg.message.playerId === this.props.player.id) {\n              this.props.updateHand(msg.message.cards)\n              // this.updatePlayer(this.props.player)\n              this.updatePlayer()\n            }\n            break\n          case 'endTurn':\n            // Swal.close()\n            const currentActivePlayerId = this.props.activePlayer.id\n            this.props.endTurn()\n            this.props.setActivePlayer()\n            if (this.props.activePlayer.id === currentActivePlayerId && this.isYourTurn()) {\n              Swal.close()\n              Swal.fire({\n                title: 'u win gj gg',\n                confirmButtonText: 'New Game?',\n                allowOutsideClick: false\n              })\n            }\n            console.log(`${this.props.players[this.props.whosTurnIsIt].username}'s turn.`)\n            break\n          case 'target':\n            targetPlayer = this.props.players.find(player => player.id === msg.message.targetPlayerId)\n            if (msg.message.action === 'Coup') {\n              if (this.isYourTurn()) {\n                this.updateCoins(-7)\n                this.updateTreasury(7)\n                Swal.fire({\n                  title: `You spent 7 coins and Couped ${targetPlayer.username}!`,\n                  showConfirmButton: false,\n                  timer: 2000,\n                })\n                this.useAction(msg.message.action, targetPlayer.id)\n              }\n\n              // if targeted action is not Coup, i.e. Assassinate/Steal\n            } else {\n              if (this.props.player.id === targetPlayer.id) {\n                let counterCard = undefined\n\n                Swal.fire({\n                  title: `${this.props.activePlayer.username} is trying to use ${msg.message.action} on you with ${this.aOrAn(msg.message.associatedCard)} ${msg.message.associatedCard}!`,\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                  confirmButtonText: 'CHALLENGE',\n                  showCancelButton: true,\n                  cancelButtonText: `Let ${this.props.activePlayer.username} use ${msg.message.action}. :(`,\n                  html: `<span class='swal2-text'>Letting ${this.props.activePlayer.username} use ${msg.message.action} in <b></b></span>`,\n                  onBeforeOpen: () => {\n                    setInterval(() => {\n                      const content = Swal.getContent()\n                      if (content) {\n                        const b = content.querySelector('b')\n                        if (b && Swal.getTimerLeft()) {\n                          b.textContent = Math.ceil(Swal.getTimerLeft() / 1000)\n                        }\n                      }\n                    }, 100)\n\n                    const actionsDiv = Swal.getActions()\n\n                    for (const card of msg.message.counterCards) {\n                      const counterCardBtn = document.createElement('button')\n                      counterCardBtn.innerHTML = `BLOCK with ${card}`\n                      counterCardBtn.className = \"swal2-confirm swal2-styled\"\n                      // eslint-disable-next-line\n                      counterCardBtn.addEventListener('click', () => {\n                        counterCard = card\n                        Swal.close()\n                      })\n                      actionsDiv.prepend(counterCardBtn)\n                    }\n                  }\n                })\n                .then(r => {\n                  // console.log(r)\n                  if (counterCard) {\n                    console.log(`Attempting to block with a(n) ${counterCard}.`)\n                    this.props.pubnub.publish({\n                      message: {\n                        type: 'counter',\n                        action: msg.message.action,\n                        counterCard: counterCard,\n                        counteredPlayerId: this.props.activePlayer.id,\n                        counteredPlayerUn: this.props.activePlayer.username,\n                        counteringPlayerId: this.props.player.id,\n                        counteringPlayerUn: this.props.player.username,\n                      },\n                      channel: this.props.gameChannel\n                    })\n                  } else if (r.value) {\n                    console.log('Sending challenge to ' + msg.message.counteringPlayerUn)\n                    this.props.pubnub.publish({\n                      message: {\n                        type: 'challenge',\n                        challengedPlayerId: this.props.activePlayer.id,\n                        challengedPlayerUn: this.props.activePlayer.username,\n                        challengingPlayerId: this.props.player.id,\n                        challengingPlayerUn: this.props.player.username,\n                        challengedCard: msg.message.associatedCard,\n                        action: msg.message.action,\n                      },\n                      channel: this.props.gameChannel\n                    })\n                  } else if (r.dismiss) {\n                    console.log('ok :(')\n                  }\n                })\n              } else if (this.isYourTurn()) {\n                let endTurn = true\n                let title = `You Stole 2 coins from ${targetPlayer.username}!`\n                if (msg.message.action === 'Assassinate') {\n                  this.updateCoins(-3)\n                  this.updateTreasury(3)\n                  title = `You spent 3 coins and Assassinated ${targetPlayer.username}!`\n                  endTurn = false\n                }\n                Swal.fire({\n                  title: `Waiting for ${targetPlayer.username}.`,\n                  showConfirmButton: false,\n                  allowOutsideClick: false,\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                })\n                .then(r => {\n                  if (r.dismiss === 'timer') {\n                    Swal.fire({\n                      title: title,\n                      showConfirmButton: false,\n                      timer: 1500,\n                      icon: 'success'\n                    })\n                    this.useAction(msg.message.action, targetPlayer.id)\n                    endTurn && this.endTurn()\n                  }\n                })\n              }\n            }\n            break\n          case 'alert':\n            if (!this.isYourTurn() && !this.props.player.gameOver) {\n              if (!msg.message.associatedCard && msg.message.counterCard) {\n                Swal.fire({\n                  title: `${this.props.activePlayer.username} is trying to use ${msg.message.action}!`,\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                  showCancelButton: true,\n                  cancelButtonText: `Let ${this.props.activePlayer.username} use ${msg.message.action}... this time.`,\n                  confirmButtonText: `BLOCK with ${this.aOrAn(msg.message.counterCard)} ${msg.message.counterCard}.`,\n                  html: `<span class='swal2-text'>Letting ${this.props.activePlayer.username} use ${msg.message.action} in <b></b></span>`,\n                  onBeforeOpen: () => {\n                    setInterval(() => {\n                      const content = Swal.getContent()\n                      if (content) {\n                        const b = content.querySelector('b')\n                        if (b && Swal.getTimerLeft()) {\n                          b.textContent = Math.ceil(Swal.getTimerLeft() / 1000)\n                        }\n                      }\n                    }, 100)\n                  }\n                })\n                .then(r => {\n                  if (r.value) {\n                    this.props.pubnub.publish({\n                      message: {\n                        type: 'counter',\n                        action: msg.message.action,\n                        counterCard: msg.message.counterCard,\n                        counteredPlayerId: this.props.activePlayer.id,\n                        counteredPlayerUn: this.props.activePlayer.username,\n                        counteringPlayerId: this.props.player.id,\n                        counteringPlayerUn: this.props.player.username,\n                      },\n                      channel: this.props.gameChannel\n                    })\n                  } else {\n                    console.log(\"Letting it slide\")\n                  }\n                })\n              } else if (msg.message.associatedCard && !msg.message.counterCard) {\n                Swal.fire({\n                  title: `${this.props.activePlayer.username} is trying to use ${msg.message.action} with ${this.aOrAn(msg.message.associatedCard)} ${msg.message.associatedCard}!`,\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                  showCancelButton: true,\n                  cancelButtonText: `Let ${this.props.activePlayer.username} use ${msg.message.action}... this time.`,\n                  confirmButtonText: `CHALLENGE`,\n                  html: `<span class='swal2-text'>Letting ${this.props.activePlayer.username} use ${msg.message.action} in <b></b></span>`,\n                  onBeforeOpen: () => {\n                    setInterval(() => {\n                      const content = Swal.getContent()\n                      if (content) {\n                        const b = content.querySelector('b')\n                        if (b && Swal.getTimerLeft()) {\n                          b.textContent = Math.ceil(Swal.getTimerLeft() / 1000)\n                        }\n                      }\n                    }, 100)\n                  }\n                })\n                .then(r => {\n                  if (r.value) {\n                    console.log('Sending challenge to ' + this.props.activePlayer.username)\n                    this.props.pubnub.publish({\n                      message: {\n                        type: 'challenge',\n                        challengedPlayerId: this.props.activePlayer.id,\n                        challengedPlayerUn: this.props.activePlayer.username,\n                        challengingPlayerId: this.props.player.id,\n                        challengingPlayerUn: this.props.player.username,\n                        challengedCard: msg.message.associatedCard,\n                        action: msg.message.action,\n                      },\n                      channel: this.props.gameChannel\n                    })\n                  } else {\n                    console.log(\"Letting it slide\")\n                  }\n                })\n              }\n              // include buttons to counter OR challenge\n              // only for Exchange, other actions are targeted\n              // nvm, Exchange belongs in cards with associated car and no counter card\n              else if (msg.message.associatedCard && msg.message.counterCard) {\n                \n              }\n            } else if (this.isYourTurn()) {\n              Swal.fire({\n                title: 'Waiting for other players.',\n                allowOutsideClick: false,\n                allowEscapeKey: false,\n                showConfirmButton: false,\n                timer: globalSwalTimer,\n                timerProgressBar: true,\n              })\n              .then(r => {\n                if (r.dismiss === 'timer') {\n                  Swal.fire({\n                    title: `You use ${msg.message.action}!`,\n                    showConfirmButton: false,\n                    timer: 1500,\n                    icon: 'success'\n                  })\n                  this.useAction(msg.message.action)\n                }\n              })\n            }\n            break\n          case 'counter':\n            if (this.props.player.id === msg.message.counteredPlayerId) {\n              Swal.close()\n              Swal.fire({\n                title: `${msg.message.counteringPlayerUn} is trying to BLOCK your ${msg.message.action} with ${this.aOrAn(msg.message.counterCard)} ${msg.message.counterCard}!`,\n                showCancelButton: true,\n                cancelButtonText: 'Back down',\n                confirmButtonText: 'CHALLENGE',\n                allowOutsideClick: false,\n                allowEscapeKey: false,\n                timer: globalSwalTimer,\n                timerProgressBar: true,\n                html: \"<span class='swal2-text'>Backing down in <b></b></span>\",\n                onBeforeOpen: () => {\n                  const content = Swal.getContent()\n                  setInterval(() => {\n                    if (content) {\n                      const b = content.querySelector('b')\n                      if (b && Swal.getTimerLeft()) {\n                        b.textContent = Math.ceil(Swal.getTimerLeft() / 1000)\n                      }\n                      \n                    }\n                  }, 100)\n                }\n              })\n              .then(r => {\n                if (r.value) {\n                  console.log('Sending challenge to ' + msg.message.counteringPlayerUn)\n                  this.props.pubnub.publish({\n                    message: {\n                      type: 'challenge',\n                      challengedPlayerId: msg.message.counteringPlayerId,\n                      challengedPlayerUn: msg.message.counteringPlayerUn,\n                      challengingPlayerId: this.props.player.id,\n                      challengingPlayerUn: this.props.player.username,\n                      challengedCard: msg.message.counterCard,\n                      action: msg.message.action,\n                    },\n                    channel: this.props.gameChannel\n                  })\n                } else if (r.dismiss) {\n                  console.log(\"Where's your honor??\")\n                  // send message that blocker won, close swal\n                  this.endTurn()\n                }\n              })\n            } else if (this.props.player.id === msg.message.counteringPlayerId) {\n              console.log(`You have attempted to block ${msg.message.counteredPlayerUn}'s ${msg.message.action}!`)\n              Swal.fire({\n                title: `You have attempted to block ${msg.message.counteredPlayerUn}'s ${msg.message.action}!`,\n                timer: globalSwalTimer,\n                timerProgressBar: true,\n                allowOutsideClick: false,\n                allowEscapeKey: false,\n                showConfirmButton: false,\n              })\n              .then(r => {\n                if (r.dismiss === 'timer') {\n                  Swal.fire({\n                    title: `You blocked ${msg.message.counteredPlayerUn}'s ${msg.message.action}!`,\n                    icon: 'success',\n                    timer: 1500,\n                    timerProgressBar: true,\n                    allowOutsideClick: false,\n                    allowEscapeKey: false,\n                    showConfirmButton: false,\n                  })\n                }\n              })\n            } else {\n              console.log(`${msg.message.counteringPlayerUn} has attempted to block ${msg.message.counteredPlayerUn}.`)\n              if (!this.props.player.gameOver) {\n                Swal.close()\n              }\n            }\n            break\n          case 'challenge':\n            if (this.props.player.id === msg.message.challengedPlayerId) {\n              Swal.close()\n              const challengedCard = this.props.player.hand.find(card => card.name === msg.message.challengedCard)\n              if (challengedCard && !challengedCard.isRevealed) {\n                Swal.fire({\n                  title: `${msg.message.challengingPlayerUn} challenged you!`,\n                  showCancelButton: true,\n                  confirmButtonText: `Show my ${msg.message.challengedCard}.`,\n                  cancelButtonText: \"Lose a card (Hint: don't do this)\",\n                })\n                .then(r => {\n                  if (r.value) {\n                    this.props.pubnub.publish({\n                      message: {\n                        type: 'challengedPlayerWon',\n                        challengedPlayerId: msg.message.challengedPlayerId,\n                        challengedPlayerUn: msg.message.challengedPlayerUn,\n                        challengingPlayerId: msg.message.challengingPlayerId,\n                        challengingPlayerUn: msg.message.challengingPlayerUn,\n                        challengedCard: msg.message.challengedCard,\n                        action: msg.message.action,\n                      },\n                      channel: this.props.gameChannel\n                    })\n                  } else if (r.dismiss) {\n                    this.props.pubnub.publish({\n                      message: {\n                        type: 'challengedPlayerLost',\n                        challengedPlayerId: msg.message.challengedPlayerId,\n                        challengedPlayerUn: msg.message.challengedPlayerUn,\n                        challengingPlayerId: msg.message.challengingPlayerId,\n                        challengingPlayerUn: msg.message.challengingPlayerUn,\n                        challengedCard: msg.message.challengedCard,\n                        action: msg.message.action,\n                      },\n                      channel: this.props.gameChannel\n                    })\n                  }\n                })\n              } else {\n                Swal.fire({\n                  title: 'You were called out!',\n                  timer: 1500,\n                  timerProgressBar: true,\n                  // showConfirmButton: false,\n                  allowOutsideClick: false,\n                  allowEscapeKey: false,\n                })\n                .then(r => {\n                  this.props.pubnub.publish({\n                    message: {\n                      type: 'challengedPlayerLost',\n                      challengedPlayerId: msg.message.challengedPlayerId,\n                      challengedPlayerUn: msg.message.challengedPlayerUn,\n                      challengingPlayerId: msg.message.challengingPlayerId,\n                      challengingPlayerUn: msg.message.challengingPlayerUn,\n                      challengedCard: msg.message.challengedCard,\n                      action: msg.message.action,\n                    },\n                    channel: this.props.gameChannel\n                  })\n                })\n              }\n            } else if (this.props.player.id === msg.message.challengingPlayerId) {\n              console.log(`You challenged ${msg.message.challengedPlayerUn}'s ${msg.message.challengedCard}!`)\n              Swal.fire({\n                title: `You challenged ${msg.message.challengedPlayerUn}'s ${msg.message.challengedCard}!`,\n                showConfirmButton: false,\n                allowOutsideClick: false,\n                allowEscapeKey: false,\n                // need to have no timer, wait on challenged player's response\n                // timer: globalSwalTimer,\n                // timerProgressBar: true,\n              })\n            } else {\n              console.log(`${msg.message.challengedPlayerUn} has been challenged by ${msg.message.challengingPlayerUn}.`)\n              if (!this.props.player.gameOver) {\n                Swal.close()\n              }\n            }\n            break\n          case 'challengedPlayerWon':\n            if (this.props.player.id === msg.message.challengedPlayerId) {\n              if (this.isYourTurn()) {\n                Swal.fire({\n                  title: `You show your ${msg.message.challengedCard}, winning the challenge!`,\n                  text: `You use ${msg.message.action} and ${msg.message.challengingPlayerUn} loses a card.`,\n                  icon: 'success',\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                })\n                .then(r => {\n                  this.getNewCard(msg.message.challengedCard, () => this.useAction(msg.message.action, msg.message.challengingPlayerId))\n                })\n              } else if (!this.isYourTurn()) {\n                Swal.fire({\n                  title: `You show your ${msg.message.challengedCard}, winning the challenge!`,\n                  text: `${msg.message.challengingPlayerUn} loses a card and doesn't get to ${msg.message.action}.`,\n                  icon: 'success',\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                })\n                .then(r => this.getNewCard(msg.message.challengedCard))\n              }\n            } else if (this.props.player.id === msg.message.challengingPlayerId) {\n              // console.log('fofo')\n              // check if challenged card is assassin, if so then lose game, and avoid firing assassinated modal\n              // ignore above if going for implementing the stack\n              if (this.props.player.hand.filter(card => card.isRevealed === true).length === 1) {\n              // console.log('nono')\n\n                Swal.fire({\n                  title: `${msg.message.challengedPlayerUn} had ${this.aOrAn(msg.message.challengedCard)} ${msg.message.challengedCard}!`,\n                  timer: 2000,\n                  showConfirmButton: false,\n                  allowOutsideClick: false,\n                })\n                .then(r => this.gameOver())\n              } else {\n                Swal.close()\n                Swal.fire({\n                  title: `${msg.message.challengedPlayerUn} had ${this.aOrAn(msg.message.challengedCard)} ${msg.message.challengedCard}! You lost the challenge!`,\n                  text: 'You lose a card.',\n                  icon: 'error',\n                  allowEscapeKey: false,\n                  allowOutsideClick: false,\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                })\n                .then(r => this.loseCard())\n              }\n            }\n            break\n          case 'challengedPlayerLost':\n            if (this.props.player.id === msg.message.challengedPlayerId) {\n              // check if challenged card is assassin, if so then lose game, and avoid firing assassinated modal\n\n              if (this.props.player.hand.filter(card => card.isRevealed === true).length === 1) {\n                this.gameOver()\n              } else {\n                Swal.fire({\n                  title: 'You lost the challenge!',\n                  text: 'You lose a card.',\n                  icon: 'error',\n                  allowEscapeKey: false,\n                  allowOutsideClick: false,\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                })\n                .then(r => this.loseCard())  \n              }\n            } else if (this.props.player.id === msg.message.challengingPlayerId) {\n              if (this.isYourTurn()) {\n                this.useAction(msg.message.action, msg.message.challengedPlayerId)\n                Swal.fire({\n                  title: `You won the challenge! You use ${msg.message.action}.`,\n                  text: `${msg.message.challengedPlayerUn} loses a card.`,\n                  icon: 'success',\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                })\n              } else if (!this.isYourTurn()) {\n                Swal.fire({\n                  title: `You won the challenge! You blocked ${msg.message.challengedPlayerUn}'s ${msg.message.action}!`,\n                  text: `${msg.message.challengedPlayerUn} loses a card.`,\n                  icon: 'success',\n                  timer: globalSwalTimer,\n                  timerProgressBar: true,\n                })\n              }\n            }\n            break\n          case 'useTargetedAction':\n            // targetPlayer = this.props.players.find(player => player.id === msg.message.targetPlayerId)\n            if (this.props.player.id === msg.message.targetPlayerId) {\n              let title = `${this.props.activePlayer.username} Couped you!`\n              switch (msg.message.action) {\n                case 'Assassinate':\n                  title = `${this.props.activePlayer.username} Assassinated you!`\n                // eslint-disable-next-line\n                case 'Coup':\n                  Swal.fire({\n                    title: title,\n                    showConfirmButton: false,\n                    allowOutsideClick: false,\n                    timer: 2000,\n                  })\n                  .then(r => {this.loseCard()})\n                  break\n                case 'Steal':\n                  let amt = 2\n                  const remainder = this.props.player.coins - 2\n                  if (remainder < 0) {\n                    amt += remainder\n                  }\n                  this.updateCoins(-amt)\n                  // Swal.fire({\n                  //   title: `${this.props.activePlayer.username} Stole 2 coins from you!`,\n                  //   showConfirmButton: false,\n                  //   allowOutsideClick: false,\n                  //   timer: 2000,\n                  // })\n                  break\n                default:\n                  console.error(`Invalid Targeted Action: ${msg.message.action}`)\n              }\n            } else if (this.isYourTurn()) {\n\n            }\n            break\n          case 'log':\n            console.log(msg.message.text)\n            break\n          default:\n            console.error('Unknown game message.')\n            console.log(msg)\n        }\n      })\n    // }\n\n    // initiate treasury for every player\n    this.props.changeTreasury(-(this.props.players.length * 2))\n  }\n  \n  componentDidUpdate() {\n    // console.log(this.props.deck)\n\n  }\n  \n  initializeGame = (deckData) => {\n  // initializeGame = (deckData) => {\n    // let deck = deckData.cards.map(card => ({...card, isRevealed: false}))\n    const shuffledDeck = this.shuffleDeck(this.props.deck)\n    this.distributeCards(shuffledDeck)\n  }\n\n  shuffleDeck = (deck = [...this.props.deck], getNewCard = false) => {\n    for (let i = deck.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      [deck[i], deck[j]] = [deck[j], deck[i]]\n    }\n\n    if (getNewCard) {\n      const newCard = deck.shift()\n      this.updateDeck(deck)\n      return newCard\n    } else {\n      this.updateDeck(deck)\n      return deck\n    }\n  }\n\n  updateDeck = (deck) => {\n    this.props.pubnub.publish({\n      message: { type: 'updateDeck', updatedDeck: deck },\n      channel: this.props.gameChannel\n    })\n  }\n\n  // consider sending message for everyone to draw 2 cards\n  distributeCards = (deck) => {\n    for (const player of this.props.players) {\n      const card1 = deck.shift()\n      const card2 = deck.shift()\n\n      this.props.pubnub.publish({\n        message: {\n          type: 'updateHand',\n          playerId: player.id,\n          cards: [card1, card2]\n        },\n        channel: this.props.gameChannel\n      })\n    }\n\n    this.updateDeck(deck)\n  }\n\n  // ehhhhhhhhh\n  // drawCard = () => {\n  //   const card = this.props.deck[0]\n  //   console.log('drew ' + card)\n  //   this.props.drawCard(card)\n  //   this.props.removeCardFromDeck()\n  // }\n  \n  isYourTurn = () => {\n    return (this.props.activePlayer.id === this.props.player.id)\n  }\n\n  aOrAn = (word) => {\n    return /[aeiouAEIOU]/.test(word.charAt(0)) ? \"an\" : \"a\"\n  }\n\n  // need this in case players aren't automatically synced, which they probably won't be\n  updatePlayer = () => {\n    // console.log(this.props.player.coins + 'coins')\n    this.props.pubnub.publish({\n      message: {\n        type: 'updatePlayer',\n        player: this.props.player\n      },\n      channel: this.props.gameChannel\n    })\n  }\n\n  updateTreasury = (amt) => {\n    // console.log(this.props.treasury)\n    this.props.pubnub.publish({\n      message: {\n        type: 'updateTreasury',\n        treasury: this.props.treasury + amt\n      },\n      channel: this.props.gameChannel\n    })\n  }\n\n  updateCoins = async(amt) => {\n    await this.props.updateCoins(amt)\n    this.updatePlayer()\n  }\n\n  // may need to move up or down\n  useAction = (action, targetPlayerId = NaN) => {\n    console.log('Using ' + action)\n    console.log('Target player ID: ' + targetPlayerId)\n    switch (action) {\n      // income is handled in Player.js\n      case 'Foreign Aid':\n        this.updateCoins(2)\n        this.updateTreasury(-2)\n        this.endTurn()\n        break\n      case 'Tax':\n        this.updateCoins(3)\n        this.updateTreasury(-3)\n        this.endTurn()\n        break\n      case 'Steal':\n        let amt = 2\n        const remainder = this.props.players.find(player => player.id === targetPlayerId).coins - 2\n        if (remainder < 0) {\n          amt += remainder\n        }\n        this.updateCoins(amt)\n      // eslint-disable-next-line\n      case 'Coup':\n      case 'Assassinate':\n        this.props.pubnub.publish({\n          message: {\n            type: 'useTargetedAction',\n            action: action,\n            targetPlayerId: targetPlayerId\n          },\n          channel: this.props.gameChannel\n        })\n        break\n      case 'Exchange':\n        const numberOfCardsToKeep = this.props.player.hand.filter(card => card.isRevealed === false).length\n        const nextCard = this.props.deck.shift()\n        const nextCard2 = this.props.deck.shift()\n        console.log(nextCard, nextCard2)\n        Swal.fire({\n          title: `Choose ${numberOfCardsToKeep} card(s) to keep.`\n\n        })\n        break\n      default:\n        console.error('Invalid action.')\n    }\n  }\n\n  // pick card to reveal, or lose one randomly based on timer\n  loseCard = () => {\n    /* if player only has one unrevealed card, player loses the game */\n    if (this.props.player.hand.filter(card => card.isRevealed === true).length === 1) {\n      this.gameOver()\n      return\n    }\n\n    Swal.fire({\n      title: `Pick a card to lose.`,\n      focusConfirm: false,\n      showCancelButton: true,\n      cancelButtonColor: '#3085d6',\n      confirmButtonText: `Lose ${this.props.player.hand[0].name}`,\n      cancelButtonText: `Lose ${this.props.player.hand[1].name}`,\n      allowOutsideClick: false,\n      allowEscapeKey: false,\n      timer: globalSwalTimer,\n      timerProgressBar: true,\n      html: \"<span class='swal2-text'>Losing a random card in <b></b></span>\",\n      onBeforeOpen: () => {\n        setInterval(() => {\n          const content = Swal.getContent()\n          if (content) {\n            const b = content.querySelector('b')\n            if (b && Swal.getTimerLeft()) {\n              b.textContent = Math.ceil(Swal.getTimerLeft() / 1000)\n            }\n          }\n        }, 100)\n      }\n      // footer: 'fuck',\n    })\n    .then(r => {\n      // console.log(r)\n      let i\n      if (r.value) {\n        i = 0\n      } else if (r.dismiss === 'cancel') {\n        i = 1\n      } else {\n        i = Math.round(Math.random())\n      }\n      \n      Swal.fire({\n        title: `Lost ${this.props.player.hand[i].name}!`,\n        timer: 1500,\n        showConfirmButton: false,\n      })\n      .then(r => {\n        this.props.revealCard(i)\n        this.updatePlayer()\n        this.endTurn()\n      })\n    })\n  }\n\n  // after showing winning a card, shuffle it into deck and draw a new card\n  getNewCard = (challengedCard, fn) => {\n    const oldCard = this.props.player.hand.find(card => card.name === challengedCard)\n    this.props.deck.push(oldCard)\n    const newCard = this.shuffleDeck(this.props.deck, true)\n    console.log(`You shuffled in your ${oldCard.name} and got ${this.aOrAn(newCard.name)} ${newCard.name}!`)\n    Swal.fire({\n      title: `You shuffled in your ${oldCard.name} and got ${this.aOrAn(newCard.name)} ${newCard.name}!`,\n      timer: 2000,\n      showConfirmButton: false,\n    })\n    .then(fn)\n\n    const newHand = [...this.props.player.hand]\n    newHand[newHand.findIndex(card => card.id === oldCard.id)] = newCard\n    this.props.updateHand(newHand)\n    this.updatePlayer()\n  }\n\n  endTurn = () => {\n    this.props.pubnub.publish({\n      message: { type: 'endTurn' },\n      channel: this.props.gameChannel\n    })\n  }\n\n  gameOver = async() => {\n    Swal.close()\n    Swal.fire({\n      title: 'Game over, man!',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    })\n    // reveal remaining card\n    const newHand = [...this.props.player.hand]\n    const i = (this.props.player.hand[0].isRevealed) ? 1 : 0\n    newHand[i] = {...newHand[i], isRevealed: true}\n    this.props.updateHand(newHand)\n\n    // skip player in turn order; cannot just remove player from players list or their cards will also be removed\n\n    // await next line? problem with determining next turn when a player is defeated\n    await this.props.gameOver()\n    await this.updatePlayer()\n    this.endTurn()\n  }\n\n  testMsg = (msg) => {\n    this.props.pubnub.publish({\n      message: {type: 'log', text: msg},\n      channel: this.props.gameChannel\n    })\n  }\n\n  hereNow = () => {\n    this.props.pubnub.hereNow({\n      channels: [this.props.gameChannel]\n    })\n    .then(console.log)\n  }\n\n  logPlayers = () => {\n    console.log(this.props.players)\n  }\n\n  render() {\n    console.log('game component rendering')\n    return(\n      <div className='game'>\n        <OpponentsContainer />\n        <p className='whose-turn'>Whose turn: {this.props.activePlayer.username ? this.props.activePlayer.username : null}</p>\n\n        <div className='treasury'>\n          <p>Treasury: {this.props.treasury} coins</p>\n        </div>\n\n        <div className='court-deck'>\n          <Card />\n          <p>Court Deck: {this.props.deck.length} cards</p>\n        </div>\n        <br/>\n        {/* <p>Deck: {this.props.deck.map(card => card.name).join(', ')}</p> */}\n        {/* <button onClick={()=>this.shuffleDeck()}>Shuffle Deck</button> */}\n        {/* <button onClick={() => this.testMsg('GAME YO')}>message</button> */}\n        {/* <button onClick={this.hereNow}>log who's here</button> */}\n        {/* <button onClick={this.logPlayers}>log players</button> */}\n\n        {/* <br/><button onClick={this.endTurn}>End Turn</button> */}\n\n        {/* <p style={{fontSize: '20px'}}>Players: {this.props.players.map(player => player.username).join(', ')}</p> */}\n        <Player />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    pubnub: state.connectionReducer.pubnub,\n    gameChannel: state.connectionReducer.gameChannel,\n    isHost: state.connectionReducer.isHost,\n    player: state.playerReducer,\n    players: state.gameReducer.players,\n    deck: state.gameReducer.deck,\n    treasury: state.gameReducer.treasury,\n    whosTurnIsIt: state.gameReducer.whosTurnIsIt,\n    activePlayer: state.gameReducer.activePlayer,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    initDeck: ((cards) => dispatch({type: 'initializeDeck', cards: cards})),\n    updateDeck: ((deck) => dispatch({type: 'updateDeck', updatedDeck: deck})),\n    updatePlayer: ((player) => dispatch({type: 'updatePlayer', player: player})),\n    getNewCard: ((card) => dispatch({type: 'getNewCard', card: card})),\n    updateHand: ((cards) => dispatch({type: 'updateHand', cards: cards})),\n    changeTreasury: ((amt) => dispatch({type: 'changeTreasury', amt: amt})),\n    updateCoins: ((amt) => dispatch({type: 'updateCoins', amt: amt})),\n    updateTreasury: ((treasury) => dispatch({type: 'updateTreasury', treasury: treasury})),\n    setActivePlayer: (() => dispatch({type: 'setActivePlayer'})),\n    revealCard: ((i) => dispatch({type: 'revealCard', i: i})),\n    endTurn: (() => dispatch({type: 'endTurn'})),\n    gameOver: (() => dispatch({type: 'gameOver'})),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Game)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Swal from 'sweetalert2'\n\nclass Lobby extends React.Component {\n  componentDidMount() {\n    console.log('lobby component mounting')\n\n  }\n\n  componentDidUpdate() {\n    if (this.props.lobbyChannel) {\n      this.props.pubnub.getMessage(this.props.lobbyChannel, (msg) => {\n        switch (msg.message.type) {\n          case 'startGame':\n            Swal.close()\n            this.playGame()\n            break\n          case 'log':\n            console.log(msg.message.text)\n            break\n          case 'addToPlayers':\n            this.props.isHost &&\n              this.addToPlayers(msg.message.player)\n            break\n          case 'updatePlayers':\n            this.updatePlayers(msg.message.players)\n            break\n          default:\n            console.error('Unknown lobby message.')\n            console.log(msg)\n        }\n      })\n    }\n  }\n\n  createLobby = () => {\n    console.log('You are the host!')\n    const roomId = Math.random().toString(36).slice(2,6).toUpperCase()\n\n    // try again if roomId already exists\n    this.props.pubnub.hereNow({channels: [`coup-lobby-${roomId}`]})\n    .then(channel => {\n      if (channel.totalOccupancy === 0) {\n        this.props.setHost()\n        this.subscribeToLobby(roomId)\n      } else {\n        console.log('Trying a different roomId')\n        this.createLobby()\n      }\n    })\n  }\n\n  joinLobby = (e) => {\n    e.preventDefault()\n    const roomId = e.target[0].value.toUpperCase()\n    if (roomId.length === 0) {\n      Swal.fire('Please enter a Room ID')\n      return\n    }\n\n    this.props.pubnub.hereNow({channels: [`coup-lobby-${roomId}`]})\n    .then(channel => {\n      if (channel.totalOccupancy === 0) {\n        console.error(\"Room doesn't exist!\")\n        Swal.fire(\"Room doesn't exist!\")\n      } else if (channel.totalOccupancy < 5) {\n        console.log('You are not the host.')\n        this.subscribeToLobby(roomId)\n      } else {\n        console.error('Room is full!')\n        Swal.fire('Room is full!')\n      }\n    })\n  }\n\n  subscribeToLobby = (roomId) => {\n    const lobbyChannel = `coup-lobby-${roomId}`\n\n    // console.log(`Setting roomId to: ${roomId}`)\n    this.props.setRoomId(roomId)\n    this.props.joinLobby(lobbyChannel)\n\n    console.log(`Joining lobbyChannel: ${lobbyChannel}`)\n    this.props.pubnub.subscribe({\n      channels: [lobbyChannel],\n      withPresence: true\n    })\n    \n    this.props.pubnub.publish({\n      message: {\n        type: 'addToPlayers',\n        player: this.props.player\n      },\n      channel: lobbyChannel\n    })\n  }\n\n  // async/await, just in case\n  addToPlayers = async(player) => {\n    await this.props.addToPlayers(player)\n    // console.log(this.props.players)\n    this.props.pubnub.publish({\n      message: {\n        type: 'updatePlayers',\n        players: this.props.players\n      },\n      channel: this.props.lobbyChannel\n    })\n  }\n\n  updatePlayers = (players) => {\n    if (!this.props.isHost) {\n      this.props.updatePlayers(players)\n    }\n  }\n\n  startGame = () => {\n    // this.props.pubnub.hereNow({channels: [this.props.lobbyChannel]})\n    // .then(channel => {\n      // console.log(channel)\n      if (!this.props.isHost) {\n        console.log('You are NOT the host!!')\n        Swal.fire('Please wait for the host to start the game.')\n      // } else if (channel.totalOccupancy > 1) {\n      } else if (this.props.players.length > 1) {\n        console.log('Starting game')\n\n        // publish message for everyone to start game\n        this.props.pubnub.publish({\n          message: { type: 'startGame' },\n          channel: this.props.lobbyChannel\n        })\n      } else {\n        console.log('Please wait for at least one opponent.')\n        Swal.fire('Please wait for at least one opponent.')\n      }\n    // })\n  }\n\n  playGame = () => {\n    const gameChannel = `coup-game-${this.props.roomId}`\n\n    this.props.joinGame(gameChannel)\n\n    this.props.pubnub.subscribe({\n      channels: [gameChannel],\n      withPresence: true\n    })\n\n    console.log(`Joining gameChannel: ${this.props.gameChannel}`)\n    console.log('Game start!!')\n\n    this.props.playGame()\n  }\n\n  testMsg = (msg) => {\n    this.props.pubnub.publish({\n      message: {type: 'log', text: msg},\n      channel: this.props.lobbyChannel\n    })\n  }\n\n  hereNow = () => {\n    this.props.pubnub.hereNow({\n      channels: [this.props.lobbyChannel]\n    })\n    .then(console.log)\n  }\n\n  render() {\n    // console.log('rendering: ' + this.props.players)\n    // this.props.players.map(player => console.log(player.username))\n    console.log('lobby component rendering')\n    return(\n      <div>\n        <p>Welcome, <span style={{color: 'red', fontSize: 40}}>{this.props.player.username}</span>.</p>\n\n        {!this.props.lobbyChannel &&\n          <div>\n            <button onClick={this.createLobby} className='createLobby'>Create Room</button>\n\n            <form onSubmit={(e)=>this.joinLobby(e)}>\n              <input type='text' placeholder='Enter Room ID'/>\n              <button type='submit'>Join Room</button>\n            </form>\n\n          </div>\n        }\n\n        {this.props.lobbyChannel &&\n          <div>\n            <p>Room ID <br/>{this.props.roomId}</p>\n            <br/>\n            <button onClick={this.startGame} className='start'>START</button>\n            <br/>\n            <div className='lobby-player-list-container'>\n              {/* <p>{this.props.player.username + ' (You)'}</p> */}\n              <div className='lobby-player-list'>\n                <p className='lobby-player-list-title'>Players</p>\n                {this.props.players.map(player => <p key={player.id}>{player.username}</p>)}\n              </div>\n            </div>\n\n            {/* <button onClick={() => this.testMsg('i am hostman')}>send him a message</button> */}\n            {/* <button onClick={()=>this.testMsg('hey host')}>msg</button> */}\n            {/* <button onClick={this.hereNow}>who here</button> */}\n\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    pubnub: state.connectionReducer.pubnub,\n    roomId: state.connectionReducer.roomId,\n    lobbyChannel: state.connectionReducer.lobbyChannel,\n    gameChannel: state.connectionReducer.gameChannel,\n    isHost: state.connectionReducer.isHost,\n    player: state.playerReducer,\n    players: state.gameReducer.players,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setRoomId: ((roomId) => dispatch({type: 'setRoomId', roomId: roomId})),\n    setHost: (() => dispatch({type: 'setHost'})),\n    joinLobby: ((lobbyChannel) => dispatch({type: 'joinLobby', lobbyChannel: lobbyChannel})),\n    joinGame: ((gameChannel) => dispatch({type: 'joinGame', gameChannel: gameChannel})),\n    addToPlayers: ((player) => dispatch({type: 'addToPlayers', player: player})),\n    playGame: (() => dispatch({type: 'playGame'})),\n    updatePlayers: ((players) => dispatch({type: 'updatePlayers', players: players})),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Lobby)","import React from 'react';\nimport { connect } from 'react-redux'\nimport Game from '../components/Game';\nimport Lobby from '../components/Lobby.js'\n\nclass GameContainer extends React.Component {\n  render() {  \n    return (  \n      <div>\n        {!this.props.isPlaying &&\n          <div>\n            <Lobby />\n          </div>\n        }\n\n        {this.props.isPlaying &&\n          <Game />\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    pubnub: state.connectionReducer.pubnub,\n    isPlaying: state.connectionReducer.isPlaying,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GameContainer)","import React from 'react';\nimport { connect } from 'react-redux'\nimport './App.css';\nimport PubNubReact from 'pubnub-react';\nimport keys from './PubNub-keys.js'\n// import { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport \"typeface-roboto\";\nimport \"typeface-muli\"\n\nimport GameContainer from './containers/GameContainer.js'\nimport Swal from 'sweetalert2';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.pubnub = new PubNubReact({\n      publishKey: keys.publishKey, \n      subscribeKey: keys.subscribeKey    \n    })\n    const id = Math.random().toString(36).slice(2,12)\n    this.props.setId(id)\n    this.pubnub.setUUID(id)\n    this.pubnub.init(this)\n  }\n\n  componentDidMount() {\n    this.props.initPubnub(this.pubnub)\n  }\n\n  componentWillUnmount() {\n    this.props.pubnub.unsubscribe({\n      channels: [this.props.lobbyChannel, this.props.gameChannel]\n    })\n  }\n\n  setUsername = (e) => {\n    e.preventDefault()\n    const username = e.target[0].value\n    if (username !== \"\") {\n      this.props.setUsername(username)\n    } else {\n      Swal.fire('Please enter a username!')\n      console.error('Please enter a username!')\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {!this.props.username && \n          <div>\n            <p className='title'>COUP REACT</p>\n            <p style={{fontSize: '24px'}}>Enter name to play</p>\n            <form onSubmit={e => this.setUsername(e)}>\n              <input type='text' placeholder='Set Username'/>\n              <button type='submit'>Let's go!</button>\n            </form>\n          </div>\n        }\n\n        {this.props.username &&\n          <GameContainer />\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    pubnub: state.connectionReducer.pubnub,\n    lobbyChannel: state.connectionReducer.lobbyChannel,\n    gameChannel: state.connectionReducer.gameChannel,\n    username: state.playerReducer.username,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    initPubnub: ((pubnub) => dispatch({type: 'initPubnub', pubnub: pubnub})),\n    setId: ((id) => dispatch({type: 'setId', id: id})),\n    setUsername: ((username) => dispatch({type: 'setUsername', username: username})),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\n  id: NaN,\n  gameOver: false,\n  username: Math.random().toString(36).slice(2,5),\n  // username: '',\n  hand: [],\n  coins: 2,\n  // actions: ['Income', 'Foreign Aid', 'Coup', 'Tax', 'Assassinate', 'Exchange', 'Steal'],\n  actions: {\n    income: {character: null,\n      action: 'Income',\n      effect: 'Take 1 coin',\n      counteraction: null},\n    foreignAid: {character: null,\n      action: 'Foreign Aid',\n      effect: 'Take 2 coins',\n      counteraction: null},\n    coup: {character: null,\n      action: 'Coup',\n      effect: 'Pay 7 coins - Choose player to lose influence',\n      counteraction: null},\n    tax: {character: 'Duke',\n      action: 'Tax',\n      effect: 'Take 3 coins',\n      counteraction: 'Blocks Foreign Aid'},\n    assassinate: {character: 'Assassin',\n      action: 'Assassinate',\n      effect: 'Pay 3 coins - Choose player to lose influence',\n      counteraction: null},\n    exchange: {character: 'Ambassador',\n      action: 'Exchange',\n      effect: 'Exchange cards with Court Deck',\n      counteraction: 'Blocks stealing'},\n    steal: {character: 'Captain',\n      action: 'Steal',\n      effect: 'Take 2 coins from another player',\n      counteraction: 'Blocks stealing'},\n    contessa: {character: 'Contessa',\n      action: 'X',\n      effect: null,\n      counteraction: 'Blocks assassination'}\n  },\n  // myTurn: false, // unnecessary so far, just check if props.player.id === props.activePlayer.id\n}\n\nexport default function playerReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'setId':\n      return {...state,\n        id: action.id\n      }\n    case 'setUsername':\n      return {...state,\n        username: action.username\n      }\n    case 'getNewCard':\n      state.hand.push(action.card)\n      return state\n    case 'updateHand':\n      return {...state,\n        // hand: [...state.hand, ...action.cards]\n        hand: action.cards\n      }\n    case 'updateCoins':\n      return {...state,\n        coins: state.coins + action.amt\n      }\n    case 'gameOver':\n      return {...state,\n        gameOver: true\n      }\n    case 'revealCard':\n      // need to create deep clone a la JSON.parse/stringify\n      const revealedCard = JSON.parse(JSON.stringify(state.hand[action.i]))\n      revealedCard.isRevealed = true\n      const newHand = [...state.hand]\n      newHand[action.i] = revealedCard\n      return {...state,\n        hand: newHand\n      }\n    default:\n      return state\n  }\n}","const initialState = {\n  players: [], // pubnub.hereNow?\n  deck: [\n    {\n      \"id\": 1,\n      \"name\": \"Duke\",\n      \"img_url\": null,\n      \"action\": \"Tax\",\n      \"effect\": \"Take 3 coins\",\n      \"counteraction\": \"Blocks Foreign Aid\",\n      \"description\": \"Take 3 coins from Treasury. Blocks Foreign Aid.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Assassin\",\n      \"img_url\": null,\n      \"action\": \"Assassinate\",\n      \"effect\": \"Pay 3 coins - Choose player to lose influence\",\n      \"counteraction\": \"\",\n      \"description\": \"Pay 3 coins to assassinate another player.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 3,\n      \"name\": \"Ambassador\",\n      \"img_url\": null,\n      \"action\": \"Exchange\",\n      \"effect\": \"Exchange cards with Court Deck\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Exchange cards with Court Deck. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 4,\n      \"name\": \"Captain\",\n      \"img_url\": null,\n      \"action\": \"Steal\",\n      \"effect\": \"Take 2 coins from another player\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Steal 2 coins from another player. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 5,\n      \"name\": \"Contessa\",\n      \"img_url\": null,\n      \"action\": \"\",\n      \"effect\": \"\",\n      \"counteraction\": \"Blocks assassination\",\n      \"description\": \"Blocks assassination.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 6,\n      \"name\": \"Duke\",\n      \"img_url\": null,\n      \"action\": \"Tax\",\n      \"effect\": \"Take 3 coins\",\n      \"counteraction\": \"Blocks Foreign Aid\",\n      \"description\": \"Take 3 coins from Treasury. Blocks Foreign Aid.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 7,\n      \"name\": \"Assassin\",\n      \"img_url\": null,\n      \"action\": \"Assassinate\",\n      \"effect\": \"Pay 3 coins - Choose player to lose influence\",\n      \"counteraction\": \"\",\n      \"description\": \"Pay 3 coins to assassinate another player.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 8,\n      \"name\": \"Ambassador\",\n      \"img_url\": null,\n      \"action\": \"Exchange\",\n      \"effect\": \"Exchange cards with Court Deck\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Exchange cards with Court Deck. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 9,\n      \"name\": \"Captain\",\n      \"img_url\": null,\n      \"action\": \"Steal\",\n      \"effect\": \"Take 2 coins from another player\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Steal 2 coins from another player. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 10,\n      \"name\": \"Contessa\",\n      \"img_url\": null,\n      \"action\": \"\",\n      \"effect\": \"\",\n      \"counteraction\": \"Blocks assassination\",\n      \"description\": \"Blocks assassination.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 11,\n      \"name\": \"Duke\",\n      \"img_url\": null,\n      \"action\": \"Tax\",\n      \"effect\": \"Take 3 coins\",\n      \"counteraction\": \"Blocks Foreign Aid\",\n      \"description\": \"Take 3 coins from Treasury. Blocks Foreign Aid.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 12,\n      \"name\": \"Assassin\",\n      \"img_url\": null,\n      \"action\": \"Assassinate\",\n      \"effect\": \"Pay 3 coins - Choose player to lose influence\",\n      \"counteraction\": \"\",\n      \"description\": \"Pay 3 coins to assassinate another player.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 13,\n      \"name\": \"Ambassador\",\n      \"img_url\": null,\n      \"action\": \"Exchange\",\n      \"effect\": \"Exchange cards with Court Deck\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Exchange cards with Court Deck. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 14,\n      \"name\": \"Captain\",\n      \"img_url\": null,\n      \"action\": \"Steal\",\n      \"effect\": \"Take 2 coins from another player\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Steal 2 coins from another player. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 15,\n      \"name\": \"Contessa\",\n      \"img_url\": null,\n      \"action\": \"\",\n      \"effect\": \"\",\n      \"counteraction\": \"Blocks assassination\",\n      \"description\": \"Blocks assassination.\",\n      \"isRevealed\": false\n    }\n  ],\n  treasury: 50,\n  activePlayer: {},\n  whosTurnIsIt: 0,\n}\n\nexport default function gameReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'initializeDeck':\n      return {...state,\n        deck: action.cards\n      }\n    case 'updateDeck':\n      return {\n        ...state,\n        deck: action.updatedDeck\n      }\n    case 'updatePlayer':\n      const i = state.players.indexOf(state.players.find(player => player.id === action.player.id))\n      const updatedPlayers = [...state.players]\n      updatedPlayers[i] = action.player\n      return {...state,\n        players: updatedPlayers\n      }\n    case 'changeTreasury':\n      return {...state,\n        treasury: state.treasury + action.amt\n      }\n    case 'updateTreasury':\n      return {...state,\n        treasury: action.treasury\n      }\n    case 'addToPlayers':\n      const newPlayers = [...state.players]\n      newPlayers.push(action.player)\n      return {...state,\n        players: newPlayers\n      }\n    case 'updatePlayers':\n      return {...state,\n        players: action.players\n      }\n    case 'setActivePlayer':\n      return {...state,\n        activePlayer: state.players[state.whosTurnIsIt]\n      }\n    case 'endTurn':\n      do {\n        state.whosTurnIsIt = (state.whosTurnIsIt + 1) % state.players.length\n      }\n      while (state.players[state.whosTurnIsIt].gameOver === true)\n      return state\n    default:\n      return state\n  }\n}","import playerReducer from './playerReducer.js'\nimport gameReducer from './gameReducer.js'\nimport {combineReducers} from 'redux'\n\nconst initialState = {\n  pubnub: null,\n  roomId: '',\n  lobbyChannel: '',\n  gameChannel: '',\n  isHost: false,\n  isPlaying: false,\n  // isPlaying: true,  // probably don't use this anymore, game requires channel connection\n}\n\nfunction connectionReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'initPubnub':\n      return {...state,\n        pubnub: action.pubnub\n      }\n    case 'setRoomId':\n      return {...state,\n        roomId: action.roomId\n      }\n    case 'setHost':\n      return {...state,\n        isHost: true,\n      }\n    case 'joinLobby':\n      return {...state,\n        lobbyChannel: action.lobbyChannel\n      }\n    case 'joinGame':\n      return {...state,\n        gameChannel: action.gameChannel\n      }\n    case 'playGame':\n      return {...state,\n        isPlaying: true\n      }\n    default:\n      return state\n  }\n}\n\nconst rootReducer = combineReducers({connectionReducer, playerReducer, gameReducer})\nexport default rootReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport rootReducer from './reducers/rootReducer.js'\n\nconst store = createStore(rootReducer)\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}