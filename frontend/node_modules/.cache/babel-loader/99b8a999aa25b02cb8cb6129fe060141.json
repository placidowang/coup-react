{"ast":null,"code":"import _toConsumableArray from\"/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var initialState={players:[],// pubnub.hereNow?\ndeck:[{\"id\":1,\"name\":\"Duke\",\"img_url\":null,\"action\":\"Tax\",\"effect\":\"Take 3 coins\",\"counteraction\":\"Blocks Foreign Aid\",\"description\":\"Take 3 coins from Treasury. Blocks Foreign Aid.\",\"isRevealed\":false},{\"id\":2,\"name\":\"Assassin\",\"img_url\":null,\"action\":\"Assassinate\",\"effect\":\"Pay 3 coins - Choose player to lose influence\",\"counteraction\":\"\",\"description\":\"Pay 3 coins to assassinate another player.\",\"isRevealed\":false},{\"id\":3,\"name\":\"Ambassador\",\"img_url\":null,\"action\":\"Exchange\",\"effect\":\"Exchange cards with Court Deck\",\"counteraction\":\"Blocks stealing\",\"description\":\"Exchange cards with Court Deck. Blocks stealing.\",\"isRevealed\":false},{\"id\":4,\"name\":\"Captain\",\"img_url\":null,\"action\":\"Steal\",\"effect\":\"Take 2 coins from another player\",\"counteraction\":\"Blocks stealing\",\"description\":\"Steal 2 coins from another player. Blocks stealing.\",\"isRevealed\":false},{\"id\":5,\"name\":\"Contessa\",\"img_url\":null,\"action\":\"\",\"effect\":\"\",\"counteraction\":\"Blocks assassination\",\"description\":\"Blocks assassination.\",\"isRevealed\":false},{\"id\":6,\"name\":\"Duke\",\"img_url\":null,\"action\":\"Tax\",\"effect\":\"Take 3 coins\",\"counteraction\":\"Blocks Foreign Aid\",\"description\":\"Take 3 coins from Treasury. Blocks Foreign Aid.\",\"isRevealed\":false},{\"id\":7,\"name\":\"Assassin\",\"img_url\":null,\"action\":\"Assassinate\",\"effect\":\"Pay 3 coins - Choose player to lose influence\",\"counteraction\":\"\",\"description\":\"Pay 3 coins to assassinate another player.\",\"isRevealed\":false},{\"id\":8,\"name\":\"Ambassador\",\"img_url\":null,\"action\":\"Exchange\",\"effect\":\"Exchange cards with Court Deck\",\"counteraction\":\"Blocks stealing\",\"description\":\"Exchange cards with Court Deck. Blocks stealing.\",\"isRevealed\":false},{\"id\":9,\"name\":\"Captain\",\"img_url\":null,\"action\":\"Steal\",\"effect\":\"Take 2 coins from another player\",\"counteraction\":\"Blocks stealing\",\"description\":\"Steal 2 coins from another player. Blocks stealing.\",\"isRevealed\":false},{\"id\":10,\"name\":\"Contessa\",\"img_url\":null,\"action\":\"\",\"effect\":\"\",\"counteraction\":\"Blocks assassination\",\"description\":\"Blocks assassination.\",\"isRevealed\":false},{\"id\":11,\"name\":\"Duke\",\"img_url\":null,\"action\":\"Tax\",\"effect\":\"Take 3 coins\",\"counteraction\":\"Blocks Foreign Aid\",\"description\":\"Take 3 coins from Treasury. Blocks Foreign Aid.\",\"isRevealed\":false},{\"id\":12,\"name\":\"Assassin\",\"img_url\":null,\"action\":\"Assassinate\",\"effect\":\"Pay 3 coins - Choose player to lose influence\",\"counteraction\":\"\",\"description\":\"Pay 3 coins to assassinate another player.\",\"isRevealed\":false},{\"id\":13,\"name\":\"Ambassador\",\"img_url\":null,\"action\":\"Exchange\",\"effect\":\"Exchange cards with Court Deck\",\"counteraction\":\"Blocks stealing\",\"description\":\"Exchange cards with Court Deck. Blocks stealing.\",\"isRevealed\":false},{\"id\":14,\"name\":\"Captain\",\"img_url\":null,\"action\":\"Steal\",\"effect\":\"Take 2 coins from another player\",\"counteraction\":\"Blocks stealing\",\"description\":\"Steal 2 coins from another player. Blocks stealing.\",\"isRevealed\":false},{\"id\":15,\"name\":\"Contessa\",\"img_url\":null,\"action\":\"\",\"effect\":\"\",\"counteraction\":\"Blocks assassination\",\"description\":\"Blocks assassination.\",\"isRevealed\":false}],treasury:50,activePlayer:{},whosTurnIsIt:0};export default function gameReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'initializeDeck':return _objectSpread({},state,{deck:action.cards});case'updateDeck':return _objectSpread({},state,{deck:action.updatedDeck});case'updatePlayer':var i=state.players.indexOf(state.players.find(function(player){return player.id===action.player.id;}));var updatedPlayers=_toConsumableArray(state.players);updatedPlayers[i]=action.player;return _objectSpread({},state,{players:updatedPlayers});case'changeTreasury':return _objectSpread({},state,{treasury:state.treasury+action.amt});case'updateTreasury':return _objectSpread({},state,{treasury:action.treasury});case'addToPlayers':var newPlayers=_toConsumableArray(state.players);newPlayers.push(action.player);return _objectSpread({},state,{players:newPlayers});case'updatePlayers':return _objectSpread({},state,{players:action.players});case'setActivePlayer':return _objectSpread({},state,{activePlayer:state.players[state.whosTurnIsIt]});case'endTurn':do{state.whosTurnIsIt=(state.whosTurnIsIt+1)%state.players.length;}while(state.players[state.whosTurnIsIt].gameOver===true);return state;default:return state;}}","map":{"version":3,"sources":["/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/src/reducers/gameReducer.js"],"names":["initialState","players","deck","treasury","activePlayer","whosTurnIsIt","gameReducer","state","action","type","cards","updatedDeck","i","indexOf","find","player","id","updatedPlayers","amt","newPlayers","push","length","gameOver"],"mappings":"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","sourcesContent":["const initialState = {\n  players: [], // pubnub.hereNow?\n  deck: [\n    {\n      \"id\": 1,\n      \"name\": \"Duke\",\n      \"img_url\": null,\n      \"action\": \"Tax\",\n      \"effect\": \"Take 3 coins\",\n      \"counteraction\": \"Blocks Foreign Aid\",\n      \"description\": \"Take 3 coins from Treasury. Blocks Foreign Aid.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Assassin\",\n      \"img_url\": null,\n      \"action\": \"Assassinate\",\n      \"effect\": \"Pay 3 coins - Choose player to lose influence\",\n      \"counteraction\": \"\",\n      \"description\": \"Pay 3 coins to assassinate another player.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 3,\n      \"name\": \"Ambassador\",\n      \"img_url\": null,\n      \"action\": \"Exchange\",\n      \"effect\": \"Exchange cards with Court Deck\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Exchange cards with Court Deck. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 4,\n      \"name\": \"Captain\",\n      \"img_url\": null,\n      \"action\": \"Steal\",\n      \"effect\": \"Take 2 coins from another player\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Steal 2 coins from another player. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 5,\n      \"name\": \"Contessa\",\n      \"img_url\": null,\n      \"action\": \"\",\n      \"effect\": \"\",\n      \"counteraction\": \"Blocks assassination\",\n      \"description\": \"Blocks assassination.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 6,\n      \"name\": \"Duke\",\n      \"img_url\": null,\n      \"action\": \"Tax\",\n      \"effect\": \"Take 3 coins\",\n      \"counteraction\": \"Blocks Foreign Aid\",\n      \"description\": \"Take 3 coins from Treasury. Blocks Foreign Aid.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 7,\n      \"name\": \"Assassin\",\n      \"img_url\": null,\n      \"action\": \"Assassinate\",\n      \"effect\": \"Pay 3 coins - Choose player to lose influence\",\n      \"counteraction\": \"\",\n      \"description\": \"Pay 3 coins to assassinate another player.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 8,\n      \"name\": \"Ambassador\",\n      \"img_url\": null,\n      \"action\": \"Exchange\",\n      \"effect\": \"Exchange cards with Court Deck\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Exchange cards with Court Deck. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 9,\n      \"name\": \"Captain\",\n      \"img_url\": null,\n      \"action\": \"Steal\",\n      \"effect\": \"Take 2 coins from another player\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Steal 2 coins from another player. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 10,\n      \"name\": \"Contessa\",\n      \"img_url\": null,\n      \"action\": \"\",\n      \"effect\": \"\",\n      \"counteraction\": \"Blocks assassination\",\n      \"description\": \"Blocks assassination.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 11,\n      \"name\": \"Duke\",\n      \"img_url\": null,\n      \"action\": \"Tax\",\n      \"effect\": \"Take 3 coins\",\n      \"counteraction\": \"Blocks Foreign Aid\",\n      \"description\": \"Take 3 coins from Treasury. Blocks Foreign Aid.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 12,\n      \"name\": \"Assassin\",\n      \"img_url\": null,\n      \"action\": \"Assassinate\",\n      \"effect\": \"Pay 3 coins - Choose player to lose influence\",\n      \"counteraction\": \"\",\n      \"description\": \"Pay 3 coins to assassinate another player.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 13,\n      \"name\": \"Ambassador\",\n      \"img_url\": null,\n      \"action\": \"Exchange\",\n      \"effect\": \"Exchange cards with Court Deck\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Exchange cards with Court Deck. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 14,\n      \"name\": \"Captain\",\n      \"img_url\": null,\n      \"action\": \"Steal\",\n      \"effect\": \"Take 2 coins from another player\",\n      \"counteraction\": \"Blocks stealing\",\n      \"description\": \"Steal 2 coins from another player. Blocks stealing.\",\n      \"isRevealed\": false\n    },\n    {\n      \"id\": 15,\n      \"name\": \"Contessa\",\n      \"img_url\": null,\n      \"action\": \"\",\n      \"effect\": \"\",\n      \"counteraction\": \"Blocks assassination\",\n      \"description\": \"Blocks assassination.\",\n      \"isRevealed\": false\n    }\n  ],\n  treasury: 50,\n  activePlayer: {},\n  whosTurnIsIt: 0,\n}\n\nexport default function gameReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'initializeDeck':\n      return {...state,\n        deck: action.cards\n      }\n    case 'updateDeck':\n      return {\n        ...state,\n        deck: action.updatedDeck\n      }\n    case 'updatePlayer':\n      const i = state.players.indexOf(state.players.find(player => player.id === action.player.id))\n      const updatedPlayers = [...state.players]\n      updatedPlayers[i] = action.player\n      return {...state,\n        players: updatedPlayers\n      }\n    case 'changeTreasury':\n      return {...state,\n        treasury: state.treasury + action.amt\n      }\n    case 'updateTreasury':\n      return {...state,\n        treasury: action.treasury\n      }\n    case 'addToPlayers':\n      const newPlayers = [...state.players]\n      newPlayers.push(action.player)\n      return {...state,\n        players: newPlayers\n      }\n    case 'updatePlayers':\n      return {...state,\n        players: action.players\n      }\n    case 'setActivePlayer':\n      return {...state,\n        activePlayer: state.players[state.whosTurnIsIt]\n      }\n    case 'endTurn':\n      do {\n        state.whosTurnIsIt = (state.whosTurnIsIt + 1) % state.players.length\n      }\n      while (state.players[state.whosTurnIsIt].gameOver === true)\n      return state\n    default:\n      return state\n  }\n}"]},"metadata":{},"sourceType":"module"}