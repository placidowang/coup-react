{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.release = release;\n\nfunction release(channel) {\n  if (this._broadcast.isSubscribe('message', channel)) {\n    var pnMessages = this._component.state.pn_messages;\n    delete pnMessages[channel];\n\n    this._component.setState({\n      pn_messages: pnMessages\n    });\n  }\n\n  if (this._broadcast.isSubscribe('presence', channel)) {\n    var pnPresence = this._component.state.pn_presence;\n    delete pnPresence[channel];\n\n    this._component.setState({\n      pn_presence: pnPresence\n    });\n  }\n\n  this._broadcast.unsubscribe(channel);\n}","map":{"version":3,"sources":["modules/release.js"],"names":["release","pnMessages","pn_messages","pnPresence","pn_presence"],"mappings":";;;;;QAKgBA,O,GAAAA,O;;AAAT,SAAA,OAAA,CAAA,OAAA,EAA0B;AAC/B,MAAI,KAAA,UAAA,CAAA,WAAA,CAAA,SAAA,EAAJ,OAAI,CAAJ,EAAqD;AACnD,QAAIC,UAAAA,GAAa,KAAA,UAAA,CAAA,KAAA,CAAjB,WAAA;AAEA,WAAOA,UAAAA,CAAP,OAAOA,CAAP;;AAEA,SAAA,UAAA,CAAA,QAAA,CAAyB;AAAEC,MAAAA,WAAAA,EAA3B;AAAyB,KAAzB;AACD;;AAED,MAAI,KAAA,UAAA,CAAA,WAAA,CAAA,UAAA,EAAJ,OAAI,CAAJ,EAAsD;AACpD,QAAIC,UAAAA,GAAa,KAAA,UAAA,CAAA,KAAA,CAAjB,WAAA;AAEA,WAAOA,UAAAA,CAAP,OAAOA,CAAP;;AAEA,SAAA,UAAA,CAAA,QAAA,CAAyB;AAAEC,MAAAA,WAAAA,EAA3B;AAAyB,KAAzB;AACD;;AAED,OAAA,UAAA,CAAA,WAAA,CAAA,OAAA;AACD","sourcesContent":["/**\n * Release the stack of messages for a channel or a set of channels\n *\n * @param {string|[string]} channel\n */\nexport function release(channel) {\n  if (this._broadcast.isSubscribe('message', channel)) {\n    let pnMessages = this._component.state.pn_messages;\n\n    delete pnMessages[channel];\n\n    this._component.setState({ pn_messages: pnMessages });\n  }\n\n  if (this._broadcast.isSubscribe('presence', channel)) {\n    let pnPresence = this._component.state.pn_presence;\n\n    delete pnPresence[channel];\n\n    this._component.setState({ pn_presence: pnPresence });\n  }\n\n  this._broadcast.unsubscribe(channel);\n}\n"]},"metadata":{},"sourceType":"script"}