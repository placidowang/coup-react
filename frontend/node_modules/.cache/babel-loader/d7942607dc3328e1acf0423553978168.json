{"ast":null,"code":"import _classCallCheck from\"/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import'./App.css';import PubNubReact from'pubnub-react';import keys from'./PubNub-keys.js';// import { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport\"typeface-roboto\";import\"typeface-muli\";import GameContainer from'./containers/GameContainer.js';import Swal from'sweetalert2';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.setUsername=function(e){e.preventDefault();var username=e.target[0].value;if(username!==\"\"){_this.props.setUsername(username);}else{Swal.fire('Please enter a username!');console.error('Please enter a username!');}};_this.pubnub=new PubNubReact({publishKey:keys.publishKey,subscribeKey:keys.subscribeKey});var id=Math.random().toString(36).slice(2,12);_this.props.setId(id);_this.pubnub.setUUID(id);_this.pubnub.init(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.initPubnub(this.pubnub);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.pubnub.unsubscribe({channels:[this.props.lobbyChannel,this.props.gameChannel]});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},!this.props.username&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"title\"},\"COUP REACT\"),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'24px'}},\"Enter name to play\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this2.setUsername(e);}},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Set Username\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Let's go!\"))),this.props.username&&/*#__PURE__*/React.createElement(GameContainer,null));}}]);return App;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{pubnub:state.connectionReducer.pubnub,lobbyChannel:state.connectionReducer.lobbyChannel,gameChannel:state.connectionReducer.gameChannel,username:state.playerReducer.username};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{initPubnub:function initPubnub(pubnub){return dispatch({type:'initPubnub',pubnub:pubnub});},setId:function setId(id){return dispatch({type:'setId',id:id});},setUsername:function setUsername(username){return dispatch({type:'setUsername',username:username});}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/flatironstudentaccount/Development/Module 5/coup-react/frontend/src/App.js"],"names":["React","connect","PubNubReact","keys","GameContainer","Swal","App","props","setUsername","e","preventDefault","username","target","value","fire","console","error","pubnub","publishKey","subscribeKey","id","Math","random","toString","slice","setId","setUUID","init","initPubnub","unsubscribe","channels","lobbyChannel","gameChannel","fontSize","Component","mapStateToProps","state","connectionReducer","playerReducer","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux'\nimport './App.css';\nimport PubNubReact from 'pubnub-react';\nimport keys from './PubNub-keys.js'\n// import { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport \"typeface-roboto\";\nimport \"typeface-muli\"\n\nimport GameContainer from './containers/GameContainer.js'\nimport Swal from 'sweetalert2';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.pubnub = new PubNubReact({\n      publishKey: keys.publishKey, \n      subscribeKey: keys.subscribeKey    \n    })\n    const id = Math.random().toString(36).slice(2,12)\n    this.props.setId(id)\n    this.pubnub.setUUID(id)\n    this.pubnub.init(this)\n  }\n\n  componentDidMount() {\n    this.props.initPubnub(this.pubnub)\n  }\n\n  componentWillUnmount() {\n    this.props.pubnub.unsubscribe({\n      channels: [this.props.lobbyChannel, this.props.gameChannel]\n    })\n  }\n\n  setUsername = (e) => {\n    e.preventDefault()\n    const username = e.target[0].value\n    if (username !== \"\") {\n      this.props.setUsername(username)\n    } else {\n      Swal.fire('Please enter a username!')\n      console.error('Please enter a username!')\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {!this.props.username && \n          <div>\n            <p className='title'>COUP REACT</p>\n            <p style={{fontSize: '24px'}}>Enter name to play</p>\n            <form onSubmit={e => this.setUsername(e)}>\n              <input type='text' placeholder='Set Username'/>\n              <button type='submit'>Let's go!</button>\n            </form>\n          </div>\n        }\n\n        {this.props.username &&\n          <GameContainer />\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    pubnub: state.connectionReducer.pubnub,\n    lobbyChannel: state.connectionReducer.lobbyChannel,\n    gameChannel: state.connectionReducer.gameChannel,\n    username: state.playerReducer.username,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    initPubnub: ((pubnub) => dispatch({type: 'initPubnub', pubnub: pubnub})),\n    setId: ((id) => dispatch({type: 'setId', id: id})),\n    setUsername: ((username) => dispatch({type: 'setUsername', username: username})),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}